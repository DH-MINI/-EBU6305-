<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classic Animation - China Dream Works Studios</title>
    <link href="../assets/bootstrap_src/bootstrap.min.css" rel="stylesheet">
    <link href="../styles/classicAnimation/classicAnimation.css" rel="stylesheet">

    <script src="../assets/bootstrap_src/jquery-3.6.0.min.js"></script>
    <script src="../assets/bootstrap_src/bootstrap.bundle.min.js"></script>
    <script src="../assets/bootstrap_src/popper.min.js"></script>
    <script src="../assets/bootstrap_src/v4bootstrap.bundle.min.js"></script>

    <!-- <script src="../scripts/classicAnimation/classicAnimation.js"></script> -->


</head>
<style>
    .music-player-button {
        position: fixed;
        top: 50%;
        right: 20px;
        transform: translateY(-50%);
        background-color: #fff;
        border: 1px solid #ccc;
        padding: 10px;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        z-index: 9999;
        cursor: pointer;
    }

    .music-player-button.playing {
        animation: gradient 5s infinite;
    }

    @keyframes gradient {
        0% {
            background-color: #ff9999;
        }

        25% {
            background-color: #ffff99;
        }

        50% {
            background-color: #99ff99;
        }

        75% {
            background-color: #99ffff;
        }

        100% {
            background-color: #ff9999;
        }
    }
</style>

<body class="container gradient-background">


    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">动画详情</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" style="width: 800px ;height: 800px;">
                    <!-- 这里是要加载的外部 HTML 内容 -->
                    <iframe id="externalContent" style="width: 100%; height: 100%; border: none;"></iframe>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>


    <div class="music-player-button" onclick="togglePlay()">
        <img src="../assets/image/icon/play.png" alt="Play" id="playButton" style="width: 20px; height: 20px;">
    </div>
    <h1 class="title mt-4">Classic Animation</h1>
    <div id="classicAnimationCarousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img class="d-block  mx-auto" src="../assets/image/classicAnimation/monkey.jpg"
                    style="width:800px; height:450px" alt="First slide">
            </div>
            <div class="carousel-item">
                <img class="d-block  mx-auto" src="../assets/image/classicAnimation/cat.png"
                    style="width:800px; height:450px" alt="Second slide">
            </div>
            <div class="carousel-item">
                <img class="d-block  mx-auto" src="../assets/image/classicAnimation/tuTu.jpg"
                    style="width:800px; height:450px" alt="Third slide">
            </div>
            <div class="carousel-item">
                <img class="d-block mx-auto" src="../assets/image/classicAnimation/aFanTi.png"
                    style="width:800px; height:450px" alt="Fourth slide">
            </div>
        </div>
        <a class="carousel-control-prev" href="#classicAnimationCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#classicAnimationCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <script>
        $(document).ready(function () {
            $('#classicAnimationCarousel').carousel();
        });
    </script>

    <div class="hot-section">
        <h2 class="hottext">Hot</h2>
        <div class="container" id="contentContainer">
            <!-- Content will be dynamically loaded here -->
        </div>
    </div>

    <!-- Pagination -->
    <nav aria-label="Page navigation" class="mt-5">
        <ul class="pagination justify-content-center" id="pagination">
            <!-- Pagination items will be dynamically loaded here -->
        </ul>
    </nav>


    <iframe src="../components/footer.html" width="100%" height="157" frameborder="0" scrolling="no"></iframe>

    <script>
        var audio = new Audio('../assets/music/tianGongXunYin.mp3');
        var isPlaying = false;

        function togglePlay() {
            var button = document.querySelector('.music-player-button');
            isPlaying = !isPlaying;

            if (isPlaying) {
                audio.play();
                document.getElementById('playButton').src = '../assets/image/icon/pause.png'; // 切换为暂停图标
                button.classList.add('playing'); // 添加动画
            } else {
                audio.pause();
                document.getElementById('playButton').src = '../assets/image/icon/play.png'; // 切换为播放图标
                button.classList.remove('playing'); // 移除动画
            }
        }
    </script>

    <script>
        // Sample data - replace this with your actual data
        const contentData = [
            { title: "The Legend Of Sealed Book", image: "../assets/image/classicAnimation/nvYaoGuai.jpg", hoverText: "An imaginative and creative animated film.", link: "./animationDetails/animationDetail.html" },
            { title: "Ginseng Fruit", image: "../assets/image/classicAnimation/11.jpg", hoverText: "Adapted from the classic Chinese literary work 'Journey to the West'.", link: "./animationDetails/animationDetail.html" },
            { title: "Three Monks", image: "../assets/image/classicAnimation/monk.webp", hoverText: "It integrates modern comic techniques into its own national style.", link: "./animationDetails/animationDetail.html" },
            { title: "Prince Nezha's Triumph Against Dragon King", image: "../assets/image/classicAnimation/neZhaNaoHai.jpg", hoverText: "Childhood memories of Chinese people.", link: "./animationDetails/animationDetail.html" },
            { title: "Yao-Chinese Folktales", image: "../assets/image/classicAnimation/zhongGuoQiTan.webp", hoverText: "The clean and pure Chinese art films have returned.", link: "./animationDetails/animationDetail.html" },
            { title: "Small Tadpole Looks for Mother", image: "../assets/image/classicAnimation/keDou.webp", hoverText: "China's first ink wash animation film.", link: "./animationDetails/animationDetail.html" },
            { title: "Snipe-Clam Grapple", image: "../assets/image/classicAnimation/1.jpg", hoverText: "Adapted from a traditional Chinese fable.", link: "./animationDetails/animationDetail.html" },
            { title: "Calabash Brothers", image: "../assets/image/classicAnimation/10.webp", hoverText: "One of the most influential representative works of Chinese animation.", link: "./animationDetails/animationDetail.html" },
            { title: "The Snow Child", image: "../assets/image/classicAnimation/3.jpg", hoverText: "Simple and pure design and story.", link: "./animationDetails/animationDetail.html" },
            { title: "No-brain and Unhappiness", image: "../assets/image/classicAnimation/4.jpg", hoverText: "A representative work of the Chinese School of Animation.", link: "./animationDetails/animationDetail.html" },
            { title: "Shuke and Beita", image: "../assets/image/classicAnimation/5.jpg", hoverText: "A partial critique of the educational system at the time.", link: "./animationDetails/animationDetail.html" },
            { title: "The Story of Avanti", image: "../assets/image/classicAnimation/12.jpg", hoverText: "A person with a sense of justice who can uphold their principles.", link: "./animationDetails/animationDetail.html" },
            { title: "Mad for Music", image: "../assets/image/classicAnimation/7.jpg", hoverText: "An alternative in Chinese animation.", link: "./animationDetails/animationDetail.html" },
            { title: "A Big Cabbage", image: "../assets/image/classicAnimation/8.jpg", hoverText: "Innovative origami animation.", link: "./animationDetails/animationDetail.html" },
            { title: "Pigsy Eats Watermelon", image: "../assets/image/classicAnimation/11.webp", hoverText: "Paper-cut animation born for the exploration of animation art.", link: "./animationDetails/animationDetail.html" },
            { title: "Sanmao Wandering Record", image: "../assets/image/classicAnimation/13.jpg", hoverText: "It mainly portrays the confrontation and struggle between justice and evil, light and darkness.", link: "./animationDetails/animationDetail.html" }
            // Add more items as needed
        ];


        // Function to generate content HTML
        function generateContentHTML(data) {
            return `
                <div class="row">
                    ${data.map(item => `
                        <div class="col-md-3">
                            <div class="hover-text" data-hovertext="${item.hoverText}">
                                <img src="${item.image}" class="img-fluid">
                                <a href="${item.link}" title="details">
                                    <button type="button" class="btn btn-primary">Details</button>
                                </a>
                            </div>
                            <p class="intro">${item.title}</p>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Function to generate pagination HTML
        function generatePaginationHTML(totalPages) {
            return Array.from({ length: totalPages }, (_, index) => `
                <li class="page-item"><a class="page-link" href="#" onclick="showPage(${index + 1})">${index + 1}</a></li>
            `).join('');
        }

        // Function to show content for a specific page
        function showPage(pageNumber) {
            const itemsPerPage = 8; // Change this as needed
            const startIndex = (pageNumber - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const paginatedData = contentData.slice(startIndex, endIndex);
            const contentContainer = document.getElementById('contentContainer');
            contentContainer.innerHTML = generateContentHTML(paginatedData);
        }

        // Initialize pagination
        const totalPages = Math.ceil(contentData.length / 8); // Change this as needed
        const pagination = document.getElementById('pagination');
        pagination.innerHTML = generatePaginationHTML(totalPages);

        // Show first page initially
        showPage(1);
    </script>

    <script>
        $(document).ready(function () {
            // 给所有按钮绑定点击事件
            $('.hover-text button.btn-primary').click(function (event) {
                var link = $(this).closest('.hover-text').find('a').attr('href'); // 获取按钮所在行的链接
                $('#externalContent').attr('src', link); // 设置 iframe 的 src 属性为链接地址
                $('#exampleModal').modal('show'); // 显示模态窗口
                event.preventDefault(); // 阻止按钮的默认行为
            });
        });
    </script>

    <script>
        var audio2 = new Audio('../assets/music/yin2.mp3');
        let links = document.querySelectorAll(".hover-text button")
        for (let i = 0; i < links.length; i++) {
            links[i].onclick = function () {
                audio2.play()
            }
        }
    </script>

</body>

</html>