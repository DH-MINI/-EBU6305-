<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>China Dream Works Studios</title>
    <!-- Bootstrap CSS -->
    <link href="../assets/bootstrap_src/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../styles/index/index.css" rel="stylesheet">
    <!-- Bootstrap Bundle JS (包含 Popper) -->
    <script src="../assets/bootstrap_src/jquery-3.6.0.min.js"></script>
    <script src="../assets/bootstrap_src/bootstrap.bundle.min.js"></script>
    <script src="../assets/bootstrap_src/popper.min.js"></script>

    <style>
        .music-player-button {
            position: fixed;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            background-color: #fff;
            border: 1px solid #ccc;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            z-index: 9999;
            cursor: pointer;
        }

        .music-player-button.playing {
            animation: gradient 5s infinite;
        }

        @keyframes gradient {
            0% {
                background-color: #ff9999;
            }

            25% {
                background-color: #ffff99;
            }

            50% {
                background-color: #99ff99;
            }

            75% {
                background-color: #99ffff;
            }

            100% {
                background-color: #ff9999;
            }
        }
    </style>

    <script>
        var audio = new Audio('../assets/music/tianGongXunYin.mp3');
        var isPlaying = false;

        function togglePlay() {
            var button = document.querySelector('.music-player-button');
            isPlaying = !isPlaying;

            if (isPlaying) {
                audio.play();
                document.getElementById('playButton').src = '../assets/image/icon/pause.png'; // 切换为暂停图标
                button.classList.add('playing'); // 添加动画
            } else {
                audio.pause();
                document.getElementById('playButton').src = '../assets/image/icon/play.png'; // 切换为播放图标
                button.classList.remove('playing'); // 移除动画
            }
        }
    </script>
</head>
<style>
    button{
        color:#fff!important;
        background-color: #a11414!important;
        text-indent: 10px;
    }
    .item-leftContainer {
        opacity: 0;
        transform: translateX(-2000px);
    }

    .item-right {
        opacity: 0;
        transform: translateX(2000px);
    }

    @keyframes showLeft {
        to {
            opacity: 1;
            transform: translateX(0px);
        }
    }

    @keyframes showRight {
        to {
            opacity: 1;
            transform: translateX(0px);
        }
    }

    @keyframes hideLeft {
        to {
            opacity: 0;
            transform: translateX(-2000px);
        }
    }

    @keyframes hideRight {
        to {
            opacity: 0;
            transform: translateX(2000px);
        }
    }
</style>

<body>
    <!-- 云雾效果 -->
    <!-- <canvas style="width: 98vw;height: 100vh;position: absolute;left: 0;top: 0;z-index: 9999;opacity: 0.8;" id="canvas-cloud"></canvas> -->
    <!-- <iframe src="../src/components/navigation.html" width="100%" height="214px" frameborder="0" scrolling="no"></iframe> -->

    <div class="music-player-button" onclick="togglePlay()">
        <img src="../assets/image/icon/play.png" alt="Play" id="playButton" style="width: 20px; height: 20px;">
    </div>


    <div class="container-fluid gradient-background" width="100%" style="overflow-x: hidden;" height="90%">

        <h1 class="title mt-4">China Dream Works Studios</h1>
        <section class="hero-section item-leftContainer">
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <!-- 指示器 -->
                <!-- <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                </ol> -->
                <!-- 轮播内容 -->
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="../assets/image/index/daSheng.png" class="d-block w-100" alt="Image 1">
                    </div>
                    <div class="carousel-item">
                        <img src="../assets/image/index/huLuWa.jpg" class=" d-block w-100" alt="Image 2">
                    </div>
                    <div class="carousel-item">
                        <img src="../assets/image/index/tianShuQiTan.jpg" class="d-block w-100" alt="Image 3">
                    </div>
                </div>
                <!-- 控制器 -->
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </section>
        <section class="news-section item-right" id="right">
            <div class="news-container">
                <h2 class="news-title">News</h2>
                <p class="news-description">
                    The Latest News Related to the Chinese Animation Industry
                </p>

                <!-- Bootstrap row for horizontal card layout -->
                <div class="row">
                    <!-- First news item column -->
                    <div class="col-md-4">
                        <div class="accordion" id="newsAccordion1">
                            <div class="card">
                                <div class="card-header" id="headingOne">
                                    <h2 class="mb-0">
                                        <button class="btn btn-link btn-block text-left" type="button"
                                            data-toggle="collapse" data-target="#collapseOne" aria-expanded="true"
                                            aria-controls="collapseOne" style="color: #a11414;">
                                            NeZha 2
                                        </button>
                                    </h2>
                                </div>
                                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne"
                                    data-parent="#newsAccordion1">
                                    <div class="card-body">
                                        <video controls class="card-img-top" style="height: 300px;">
                                            <source src="../assets/image/index/nezha2.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        A Big Roundup of 10 Upcoming Chinese Animated Films Set for Release!
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Second news item column -->
                    <div class="col-md-4">
                        <div class="accordion" id="newsAccordion2">
                            <div class="card">
                                <div class="card-header" id="headingTwo">
                                    <h2 class="mb-0">
                                        <button style="color: #a11414;"
                                            class="btn btn-link btn-block text-left collapsed" type="button"
                                            data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false"
                                            aria-controls="collapseTwo">
                                            Deep Sea
                                        </button>
                                    </h2>
                                </div>
                                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo"
                                    data-parent="#newsAccordion2">
                                    <div class="card-body">
                                        <video controls class="card-img-top" style="height: 300px;">
                                            <source src="../assets/image/index/shenhai.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        Director Tian Xiaopeng's new work! The first trailer for the animated film The
                                        Deep has been revealed.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Third news item column -->
                    <!-- Third news item column -->
                    <div class="col-md-4">
                        <div class="accordion" id="newsAccordion3">
                            <div class="card">
                                <div class="card-header" id="headingThree">
                                    <h2 class="mb-0">
                                        <button style="color: #a11414;"
                                            class="btn btn-link btn-block text-left collapsed" type="button"
                                            data-toggle="collapse" data-target="#collapseThree" aria-expanded="false"
                                            aria-controls="collapseThree">
                                            White Snake 2
                                        </button>
                                    </h2>
                                </div>
                                <div id="collapseThree" class="collapse" aria-labelledby="headingThree"
                                    data-parent="#newsAccordion3">
                                    <div class="card-body">
                                        <video controls class="card-img-top" style="height: 300px;">
                                            <source src="../assets/image/index/Baisheyuanqi.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        "White Snake: Reunion of Fate"! First Trailer Revealed - Nationwide Release in
                                        2024
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <section class="Homeanni-animation-section item-leftContainer">
            <div class="Homeanni-container">
                <h2 class="Homeanni-title">Animation</h2>
                <p class="Homeanni-description">
                    The Classical Animation of the Shanghai Animation Film Studio
                </p>
                <!-- Slider main container -->
                <div id="Homeanni-carouselExample" class="carousel slide carousel-fade Homeanni-carousel"
                    data-ride="carousel">
                    <!-- Wrapper for carousel items -->
                    <div class="carousel-inner Homeanni-carousel-inner">
                        <!-- Individual carousel item -->
                        <div class="carousel-item Homeanni-carousel-item active">
                            <img src="../assets/image/classicAnimation/aFanTi.png" class="d-block w-100 Homeanni-item"
                                alt="Animation 1">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>First Animation Title</h5>
                                <p>  <a href="animationDetails/animationDetail.html" class="btn btn-primary">See more</a></p>
                            </div>
                        </div>
                        <div class="carousel-item Homeanni-carousel-item">
                            <img src="../assets/image/classicAnimation/cat.png" class="d-block w-100 Homeanni-item"
                                alt="Animation 2">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Second Animation Title</h5>
                                <p>  <a href="animationDetails/animationDetail.html" class="btn btn-primary">See more</a></p>
                            </div>
                        </div>
                        <div class="carousel-item Homeanni-carousel-item">
                            <img src="../assets/image/classicAnimation/deer.jpg" class="d-block w-100 Homeanni-item"
                                alt="Animation 3">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Third Animation Title</h5>
                                <p>  <a href="animationDetails/animationDetail.html" class="btn btn-primary">See more</a></p>
                            </div>
                        </div>
                        <div class="carousel-item Homeanni-carousel-item">
                            <img src="../assets/image/classicAnimation/keDou.webp" class="d-block w-100 Homeanni-item"
                                alt="Animation 4">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Fourth Animation Title</h5>
                                <p>  <a href="animationDetails/animationDetail.html" class="btn btn-primary">See more</a></p>
                            </div>
                        </div>
                        <div class="carousel-item Homeanni-carousel-item">
                            <img src="../assets/image/classicAnimation/monk.webp" class="d-block w-100 Homeanni-item"
                                alt="Animation 5">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Fifth Animation Title</h5>
                                <p>  <a href="animationDetails/animationDetail.html" class="btn btn-primary">See more</a></p>
                            </div>
                        </div>
                    </div>
                    <!-- Carousel controls -->
                    <a class="carousel-control-prev Homeanni-carousel-control-prev" href="#Homeanni-carouselExample"
                        role="button" data-slide="prev">
                        <span class="Homeanni-carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next Homeanni-carousel-control-next" href="#Homeanni-carouselExample"
                        role="button" data-slide="next">
                        <span class="Homeanni-carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </section>

        <section class="history-section item-right" id="right2">
            <div class="history-container">
                <h2 class="history-title">History</h2>
                <p class="history-description">
                    A Dive into the Rich History of Shanghai Animation Film Studio
                </p>

                <!-- Accordion container -->
                <div class="accordion" id="history-accordionExample">
                    <!-- First card -->
                    <div class="card">
                        <div class="card-header" id="history-headingOne">
                            <h2 class="mb-0">
                                <button class="btn btn-link" type="button" data-toggle="collapse"
                                    data-target="#history-collapseOne" aria-expanded="true"
                                    aria-controls="history-collapseOne" style="color: #a11414;">
                                    Origin of development
                                </button>
                            </h2>
                        </div>
                        <div id="history-collapseOne" class="collapse show" aria-labelledby="history-headingOne"
                            data-parent="#history-accordionExample">
                            <div class="card-body" style="color: #00008B; font-weight: bold; font-size: 18px;">
                                Chinese fine art film began in the early 1920s, when the Wan Brothers shot the earliest cartoons in Shanghai. In 1949, the Art Film Group, an organization specializing in the production of art films, was established in Changchun Northeast Film Studio, with cartoonist Te Wei and painter Jin Xi as the main leaders.
                            </div>
                        </div>
                    </div>

                    <!-- Second card -->
                    <div class="card">
                        <div class="card-header" id="history-headingTwo">
                            <h2 class="mb-0">
                                <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                                    data-target="#history-collapseTwo" aria-expanded="false"
                                    aria-controls="history-collapseTwo" style="color: #a11414;">
                                    The First Film
                                </button>
                            </h2>
                        </div>
                        <div id="history-collapseTwo" class="collapse" aria-labelledby="history-headingTwo"
                            data-parent="#history-accordionExample">
                            <div class="card-body" style="color: #00008B; font-weight: bold; font-size: 18px;">
                                The early 1950s (1950-1956) was the growth stage of Shangmei film. In 1953, the first color puppet film "Little Hero" was shot, and in 1954, the puppet film "Xiao Mei's Dream" was completed, which was the first to use the technology of combining real people and puppets, and in 1955, the first color animated film "Why the Crow is Black" was also successful. From then on, the art film entered the color film period.
                            </div>
                        </div>
                    </div>

                    <!-- Third card -->
                    <div class="card">
                        <div class="card-header" id="history-headingThree">
                            <h2 class="mb-0">
                                <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                                    data-target="#history-collapseThree" aria-expanded="false"
                                    aria-controls="history-collapseThree" style="color: #a11414;">
                                    The Story is Continue...
                                </button>
                            </h2>
                        </div>
                        <div id="history-collapseThree" class="collapse" aria-labelledby="history-headingThree"
                            data-parent="#history-accordionExample">
                            <div class="card-body" style="color: #00008B; font-weight: bold; font-size: 18px;">
                                Shangmei Film is committed to the construction of animation industry chain, driving comprehensive cross-border marketing, and relentlessly pursuing the construction of the whole industry chain from animation creation to cinema, television, Internet, new media distribution, as well as peripheral product development and authorization. [4]
                                In February 2023, Shangmei Film Studio's first ink animation feature film "Impala Flying" will be released in 2024
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <iframe src="../components/footer.html" width="100%" height="157" frameborder="0" scrolling="no"></iframe>
    </div>
    <!-- Bootstrap Bundle JS (包含 Popper) -->
    <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script> -->
    <script src="../assets/bootstrap_src/v4bootstrap.bundle.min.js"></script>
    <script>
        $('#newsCarousel').carousel({
            interval: false // Disable auto slide
        });
    </script>
    <!-- JavaScript 代码 -->

</body>
<script type="text/javascript">
    class CloudOpen {
        constructor() {
            this.canv = null;
            this.ctx = null;
            this.i = 0;
            this.speed = 0;
            //遮罩云
            this.imgMask = new Image();
            this.imgMask.crossOrigin = "";
            //主图
            this.img = new Image();
            this.img.crossOrigin = "";
        }

        init(back, canvas, img, mask, speed = 10) {
            this.speed = speed;
            this.canv = canvas;
            this.ctx = this.canv.getContext("2d");
            this.i = 0;
            // this.img.onload = () => {
            //     // 主图加载完成
            //     this.canv.width = this.img.naturalWidth;
            //     this.canv.height = this.img.naturalHeight;
            // };
            this.imgMask.onload = () => {
                // 遮罩加载完成
                if (back) {
                    back();
                }
            };
            //主图
            // this.img.src = img;
            //遮罩云
            this.imgMask.src = mask;
        }
        step() {
            let maskX = (this.canv.width - this.i) / 2;
            let maskY = (this.canv.height - this.i) / 2;
            this.ctx.clearRect(0, 0, this.canv.width, this.canv.height);
            this.ctx.globalCompositeOperation = "source-over";
            this.ctx.drawImage(this.imgMask, maskX, maskY, this.i, this.i);
            this.ctx.globalCompositeOperation = "source-in";
            // this.ctx.drawImage(
            //     this.img,
            //     0,
            //     0,
            //     this.img.naturalWidth,
            //     this.img.naturalHeight
            // );
        }
        //复原
        reset() {
            this.i = 0;
            this.step();
        }
        draw(backFun = null) {
            this.i += this.speed;
            this.step();
            let maxSize = Math.max(this.canv.width, this.canv.height);
            if (this.i >= maxSize * 5) {
                //结束
                if (backFun) {
                    backFun();
                }
            } else {
                window.requestAnimationFrame(() => {
                    this.draw(backFun);
                });
            }
        }
    }

    // (function () {
    //     //云雾散开
    //     let cloudOpen = new CloudOpen();
    //     let canvasCloud = document.getElementById("canvas-cloud");
    //     cloudOpen.init(
    //         () => {
    //             //图片资源加载完成
    //             function loop() {
    //                 //散开
    //                 cloudOpen.draw(() => {
    //                     //复原
    //                     cloudOpen.reset();
    //                 });
    //             }
    //             loop();
    //         },
    //         canvasCloud,
    //         "https://file.idongjia.cn/T3F4CgB7_T1RCvBVdK.png",
    //         "../assets/image/cloud.png",
    //         10
    //     );
    // })();
</script>
<script>
    // 音效
    var audio2 = new Audio('../assets/music/yin2.mp3');
    let links = document.querySelectorAll("button")
    for(let i = 0;i<links.length;i++){
        console.log(555);
        links[i].onclick = function(){
            console.log(444);
            audio2.play()
        }
    }
    window.addEventListener('scroll', checkScrollHeightAndLoadAnimation);
    setTimeout(checkScrollHeightAndLoadAnimation)

    function checkScrollHeightAndLoadAnimation() {
        const windowHeight = window.innerHeight;
        let parentEelement = document.querySelector("body") || document.getElementById("softwareUsingWays-container");
        const parentOffsetTop = parentEelement.offsetTop;
        let leftElement = (document.getElementsByClassName("item-leftContainer"))[0];
        if (window.pageYOffset + windowHeight > leftElement.offsetTop + parentOffsetTop + 200) {
            leftElement.style.animation = "showLeft .6s forwards" //添加动画
        } else {
            leftElement.style.animation = "hideLeft 0s forwards" //隐藏动画
        }
        let leftElement2 = (document.getElementsByClassName("item-leftContainer"))[1];
        if (window.pageYOffset + windowHeight > leftElement2.offsetTop + parentOffsetTop + 200) {
            leftElement2.style.animation = "showLeft .6s forwards" //添加动画
        } else {
            leftElement2.style.animation = "hideLeft 0s forwards" //隐藏动画
        }
        if (right) {
            if (window.pageYOffset + windowHeight > right.offsetTop + parentOffsetTop + 200) {
                right.style.animation = "showRight .6s forwards" //添加动画
            } else {
                right.style.animation = "hideRight 0s forwards" //隐藏动画
            }
        }
        if (right2) {
            if (window.pageYOffset + windowHeight > right2.offsetTop + parentOffsetTop + 200) {
                right2.style.animation = "showRight .6s forwards" //添加动画
            } else {
                right2.style.animation = "hideRight 0s forwards" //隐藏动画
            }
        }
    }
</script>

</html>